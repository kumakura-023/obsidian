---
created: 2025-11-28T13:17
updated: 2025-12-11T11:51
---
```C#
using System; 
using System.Linq; 
class BirdCount 
{ 
	private int[] birdsPerDay; 
	public BirdCount(int[] birdsPerDay) 
	{ 
		this.birdsPerDay = birdsPerDay; 
	} 
	//オブジェクトを返すのでstaticに
	public static int[] LastWeek() 
	{ 
		//オブジェクトを返すのでnew
		return new [] { 0, 2, 5, 3, 7, 8, 4 }; 
	} 
	public int Today() 
	{ 
		//配列の最後：index = ^1
		return birdsPerDay[^1]; 
	} 
	public int IncrementTodaysCount() 
	{ 
		return birdsPerDay[^1]++; 
	} 
	public bool HasDayWithoutBirds() 
	{ 
		//0の要素があるか
		return birdsPerDay.Any(x => x == 0); 
	} 
	public int CountForFirstDays(int numberOfDays) 
	{ 
		//numberOfDays分だけ合計
		return birdsPerDay.Take(numberOfDays).Sum(); 
	} 
	public int BusyDays() 
	{ 
		//5以上の要素数を取得
		return birdsPerDay.Where(x => x >= 5).Count(); 
	} 
}
```


```C#
public class CircularBuffer<T>
{
    private readonly T[] buffer;
    private int writeIndex;
    private int readIndex;
    private int count;

    public CircularBuffer(int capacity)
    {
        buffer = new T[capacity];
    }

    public T Read()
    {
        if (count == 0)
            throw new InvalidOperationException("buffer is empty");

        T value = buffer[readIndex];
        readIndex = (readIndex + 1) % buffer.Length;
        count--;
        return value;
    }

    public void Write(T value)
    {
        if (count == buffer.Length)
            throw new InvalidOperationException("buffer is full");

        buffer[writeIndex] = value;
        writeIndex = (writeIndex + 1) % buffer.Length;
        count++;
    }

    public void Overwrite(T value)
    {
        if (count < buffer.Length)
        {
            Write(value);
        }
        else
        {
            buffer[writeIndex] = value;
            writeIndex = (writeIndex + 1) % buffer.Length;
            readIndex = writeIndex;
        }
    }

    public void Clear()
    {
        Array.Clear(buffer, 0, buffer.Length);
        writeIndex = readIndex = count = 0;
    }
}
```

[ChatGPT - CircularBuffer 実装解説](https://chatgpt.com/share/693a31a1-65cc-8012-9c13-db914dfca981)
