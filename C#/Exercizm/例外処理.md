---
created: 2025-12-02T13:17
updated: 2025-12-05T13:22
---
```C#
- using System;
    
- public static class SimpleCalculator
    
- {
    
- public static string Calculate(int o1, int o2, string operation) =>
    
- operation switch
    
- {
    
- "*" => $"{o1} * {o2} = {o1 * o2}",
    
- "+" => $"{o1} + {o2} = {o1 + o2}",
    
- "/" => o2 != 0 ? $"{o1} / {o2} = {o1 / o2}" : "Division by zero is not allowed.",
    
- "" => throw new ArgumentException(),
    
- null => throw new ArgumentNullException(),
    
- _ => throw new ArgumentOutOfRangeException(),
    
- };
    
- }
```

## 外に例外ログを出さない

```C#
public bool WriteSafely(string data)
    {
        try
        {
            database.BeginTransaction();
            database.Write(data);
            database.EndTransaction();
            database.Dispose();
            return true;
        }
        catch(InvalidOperationException)
        {
            database.Dispose();
            return false;
        }
    }
```

## 外に例外を投げる
```C#
public void Write(string data)
    {
        try
        {
            database.BeginTransaction();
            database.Write(data);
            database.EndTransaction();
            database.Dispose();
        }
        catch(Exception)
        {
            database.Dispose();
            throw;
        }
    }
```