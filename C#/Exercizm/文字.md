---
created: 2025-11-28T14:01
updated: 2025-12-11T09:26
---

```C#
else if("a"<=c && c<="z") 
{ 
	result.Append(c.ToString().ToUpper()); 
}
```

ここで `"a"` と `"z"` は **string（文字列）**  
`c` は **char（1文字）**

C# の `<=` や `<` は、**char 同士**なら比較できるけど、  
string と char を比較することはできない → エラー。

### ◆ なぜ `'a'` と `"a"` でこんなに違うの？

### `"a"`

→ 文字列（string）  
→ 実は "a" という1文字列のオブジェクト  
→ 文字との大小比較は存在しない

### `'a'`

→ 文字（char）  
→ ASCII/Unicode の数値として扱えるので比較可能  
→ `'a'` は 97、`'z'` は 122 のように数値化される

## ハミング距離
```C#
public static int HammingDistance(string a, string b)
{
    if (a.Length != b.Length)
        throw new ArgumentException();

    return a.Zip(b).Count(pair => pair.First != pair.Second);
    //→firstStrand.Where((t, i) => t != secondStrand[i]).Count();
}
```

## 文字操作
```C#
public static class RotationalCipher
{
    public static string Rotate(string text, int shiftKey)
    {
        var result = new StringBuilder();

        foreach (char c in text)
        {
            if (char.IsLower(c))  // a-z
            {
                int rotated = (c - 'a' + shiftKey) % 26;
                result.Append((char)('a' + rotated));
            }
            else if (char.IsUpper(c))  // A-Z
            {
                int rotated = (c - 'A' + shiftKey) % 26;
                result.Append((char)('A' + rotated));
            }
            else
            {
                result.Append(c); // 記号や数字はそのまま
            }
        }

        return result.ToString();
    }
}

```

## 別解
```C#
using System;
using System.Linq;
using System.Text.RegularExpressions;
public static class RotationalCipher
{
    public static string Rotate(string text, int shiftKey)
    {
        char Rotate(char c)
        {
            if (!char.IsLetter(c))
                return c;
            int b = char.IsLower(c) ? 'a' : 'A';
            return (char)(b + ((c - b + shiftKey) % 26));
        }
        return new string(text.Select(Rotate).ToArray());
    }
}
```